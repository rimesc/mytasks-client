<my-messages [messages]="messages"></my-messages>
<div *ngIf="task">
	<div class="project-header">
		<div class="d-flex align-items-center">
			<div class="project-icon-container">
				<span class="project-icon">
					<fa name="archive"></fa>
				</span>
			</div>
			<span class="project-name">
				<a routerLink="/projects/{{task.project.id}}"><strong>{{task.project.name}}</strong></a>
			</span>
		</div>
		<div class="clearfix"></div>
	</div>
	<h1 class="page-header">{{task.summary}}</h1>
	<div class="row">
		<div class="col d-flex align-items-start my-2">
			<my-task-badges [task]="task"></my-task-badges>
		</div>
		<div class="col-12 col-md-auto d-flex align-items-start my-2">
			<div class="btn-toolbar">
				<div class="btn-group mr-2" role="group">
					<button type="submit" class="btn btn-sm btn-primary" *ngFor="let transition of availableTransitions()" (click)="performTransition(transition)">{{transition.label}}</button>
				</div>
				<div class="btn-group" role="group">
					<button class="btn btn-sm btn-outline-primary" (click)="editTask()">
						<fa name="edit"></fa> Edit
					</button>
					<button class="btn btn-sm btn-outline-primary" (click)="deleteTask()">
						<fa name="trash"></fa> Delete
					</button>
				</div>
			</div>
		</div>
	</div>
	<my-markdown-card title="Description" editable="true" [notes]="task.notes" (update)="updateNotes($event)"></my-markdown-card>
</div>